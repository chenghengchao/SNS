<!DOCTYPE html>
<html style="height: 100%">
   <head>
       <meta charset="utf-8">
   </head>
   <body style="height: 100%; margin: 0">
       <div id="container" style="height: 100%"></div>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/echarts-all-3.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/dataTool.min.js"></script>
       <script type="text/javascript" src="map/js/province/beijing.js"></script>
       <script type="text/javascript" src="map/js/china.js"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/map/js/world.js"></script>
       <script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=ZUONbpqGBsYGXNIYHicvbAbM"></script>
       <script type="text/javascript" src="http://echarts.baidu.com/gallery/vendors/echarts/extension/bmap.min.js"></script>
       <script src="http://code.jquery.com/jquery-1.8.0.min.js"></script>
       <script type="text/javascript">


// $.get('test/data/hangzhou-tracks.json', function(data) {
//     var lines = data.map(function (track) {
//         return {
//             coords: track.map(function (seg, idx) {
//                 alert(seg.coord);
//                 return seg.coord;
//             })
//         };
//     });
var data=[[{"coord":[120.14322240845,30.236064370321],"elevation":21},{"coord":[120.14280555506,30.23633761213],"elevation":5},{"coord":[120.14307598649,30.236125905084],"elevation":30.7},{"coord":[120.14301682797,30.236035316745],"elevation":15.4},{"coord":[120.1428734612,30.236160551632],"elevation":1.6},{"coord":[120.14200215328,30.23595702204],"elevation":8.9},{"coord":[120.14138577045,30.236113748704],"elevation":18.4},{"coord":[120.1400398833,30.235973050702],"elevation":19},{"coord":[120.13893453465,30.23517220446],"elevation":12.6},{"coord":[120.1382899739,30.234062922977],"elevation":17.7},{"coord":[120.13634057665,30.233446752432],"elevation":24.5},{"coord":[120.13413680453,30.232112168844],"elevation":37.8},{"coord":[120.13333353311,30.232145779364],"elevation":48.7},{"coord":[120.13306479103,30.231759284837],"elevation":63.7},{"coord":[120.13265960629,30.231641351722],"elevation":32.3},{"coord":[120.1327455782,30.231430284343],"elevation":81.9},{"coord":[120.13218153673,30.230180120187],"elevation":114.1},{"coord":[120.13170681763,30.229925745619],"elevation":125.3},{"coord":[120.13140700148,30.229576173509],"elevation":128},{"coord":[120.13119614803,30.228996846637],"elevation":161.2},{"coord":[120.13066649155,30.228846445356],"elevation":176},{"coord":[120.13023980134,30.228226570416],"elevation":198.1},{"coord":[120.12989250643,30.228177899345],"elevation":213.1},{"coord":[120.1297674531,30.227895075522],"elevation":226.1},{"coord":[120.12941575407,30.228596968401],"elevation":244.8},{"coord":[120.12900512996,30.228293967376],"elevation":253.7},{"coord":[120.12920653848,30.228281493076],"elevation":258.5},{"coord":[120.12914997592,30.22811126636],"elevation":256.9},{"coord":[120.12887629039,30.227990425169],"elevation":244.7},{"coord":[120.12797286481,30.228127070174],"elevation":235.4},{"coord":[120.12749160626,30.228348006385],"elevation":234.9},{"coord":[120.12728472245,30.228132519108],"elevation":221.7},{"coord":[120.12725816563,30.227718527678],"elevation":206.5},{"coord":[120.12699742758,30.227225482569],"elevation":199.4},{"coord":[120.12705029341,30.226639976046],"elevation":190.2},{"coord":[120.12620458002,30.225849596694],"elevation":186.2},{"coord":[120.12629723613,30.225609780737],"elevation":175.1},{"coord":[120.12611630111,30.225592655172],"elevation":179.4},{"coord":[120.12623751461,30.225514547091],"elevation":194.1},{"coord":[120.12569412003,30.225289138515],"elevation":167.6},{"coord":[120.1260081246,30.225109979145],"elevation":160.7},{"coord":[120.12428900347,30.224907917069],"elevation":155.3},{"coord":[120.1233608862,30.224531990576],"elevation":167.9},{"coord":[120.12328968155,30.225342953599],"elevation":172.4},{"coord":[120.12289821299,30.22630750923],"elevation":164},{"coord":[120.1226090834,30.226410111043],"elevation":164.2},{"coord":[120.12245512244,30.226878337044],"elevation":156.5},{"coord":[120.1221672377,30.227216311881],"elevation":143.2},{"coord":[120.12164622224,30.227314672485],"elevation":140.4}]]


    var lines = data.map(function (track) {
        return {
            coords: track.map(function (seg, idx) {
                
                return seg.coord;
            })
        }});
    var dom = document.getElementById("container");
var myChart = echarts.init(dom);
    myChart.setOption(option = {
        bmap: {
            center: [120.13066322374, 30.240018034923],
            zoom: 14,
            roam: true,
            mapStyle: {
                styleJson: [{
                    'featureType': 'water',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#d1d1d1'
                    }
                }, {
                    'featureType': 'land',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#f3f3f3'
                    }
                }, {
                    'featureType': 'railway',
                    'elementType': 'all',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'highway',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#fdfdfd'
                    }
                }, {
                    'featureType': 'highway',
                    'elementType': 'labels',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'arterial',
                    'elementType': 'geometry',
                    'stylers': {
                        'color': '#fefefe'
                    }
                }, {
                    'featureType': 'arterial',
                    'elementType': 'geometry.fill',
                    'stylers': {
                        'color': '#fefefe'
                    }
                }, {
                    'featureType': 'poi',
                    'elementType': 'all',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'green',
                    'elementType': 'all',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'subway',
                    'elementType': 'all',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'manmade',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#d1d1d1'
                    }
                }, {
                    'featureType': 'local',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#d1d1d1'
                    }
                }, {
                    'featureType': 'arterial',
                    'elementType': 'labels',
                    'stylers': {
                        'visibility': 'off'
                    }
                }, {
                    'featureType': 'boundary',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#fefefe'
                    }
                }, {
                    'featureType': 'building',
                    'elementType': 'all',
                    'stylers': {
                        'color': '#d1d1d1'
                    }
                }, {
                    'featureType': 'label',
                    'elementType': 'labels.text.fill',
                    'stylers': {
                        'color': '#999999'
                    }
                }]
            }
        },
        series: [{
            type: 'lines',
            coordinateSystem: 'bmap',
            data: lines,
            polyline: true,
            lineStyle: {
                normal: {
                    color: 'purple',
                    opacity: 0.6,
                    width: 1
                }
            }
        }]
    });

       </script>
   </body>
</html>